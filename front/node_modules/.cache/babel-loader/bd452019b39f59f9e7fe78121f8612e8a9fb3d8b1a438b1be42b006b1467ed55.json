{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nexport default {\n  name: \"AddToCart\",\n  props: {\n    addButtonTitle: {\n      \"default\": \"\",\n      type: String\n    },\n    addedButtonTitle: {\n      \"default\": \"\",\n      type: String\n    },\n    sales: Number,\n    buttonType: String,\n    productId: Number,\n    currency: String,\n    rating: Number,\n    image: String,\n    title: String,\n    amount: Number\n  },\n  computed: {},\n  data: function data() {\n    return {\n      validCartItem: -1\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _this.userId = _this.$store.state.CurrentUser.userId;\n            _context.next = 3;\n            return _this.$store.dispatch(\"Cart/getCartItem\", _this.productId);\n          case 3:\n            _this.validCartItem = _context.sent;\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    addToCart: function addToCart() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var cartItem;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(_this2.userId == 0)) {\n                _context2.next = 3;\n                break;\n              }\n              _this2.$bvToast.toast(\"Veuillez vous connecter pour enregistrer sur le chariot\", {\n                title: \"Chariot\",\n                variant: \"danger\",\n                toaster: \"b-toaster-top-center\",\n                noCloseButton: false,\n                solid: true\n              });\n              return _context2.abrupt(\"return\");\n            case 3:\n              cartItem = {\n                sales: _this2.sales,\n                productId: _this2.productId,\n                title: _this2.title,\n                image: _this2.image,\n                rating: _this2.rating,\n                currency: _this2.currency,\n                amount: _this2.amount,\n                quantity: 1\n              };\n              _context2.next = 6;\n              return _this2.$store.dispatch(\"Cart/addToCart\", cartItem);\n            case 6:\n              _this2.validCartItem = _context2.sent;\n              if (_this2.validCartItem != -1) {\n                _this2.$bvToast.toast(\"Produit ajouté au chariot\", {\n                  title: \"Chariot\",\n                  variant: \"primary\",\n                  toaster: \"b-toaster-top-center\",\n                  noCloseButton: false,\n                  solid: true\n                });\n              }\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    },\n    removeCartItem: function removeCartItem() {\n      var _this3 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _this3.$store.dispatch(\"Cart/removeCartItem\", _this3.productId);\n            case 2:\n              _this3.validCartItem = _context3.sent;\n              if (_this3.validCartItem == -1) {\n                _this3.$bvToast.toast(\"Produit retiré du chariot\", {\n                  title: \"Chariot\",\n                  variant: \"primary\",\n                  toaster: \"b-toaster-top-center\",\n                  noCloseButton: false,\n                  solid: true\n                });\n              }\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["name","props","addButtonTitle","type","String","addedButtonTitle","sales","Number","buttonType","productId","currency","rating","image","title","amount","computed","data","validCartItem","mounted","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","userId","$store","state","CurrentUser","dispatch","sent","stop","methods","addToCart","_this2","_callee2","cartItem","_callee2$","_context2","$bvToast","toast","variant","toaster","noCloseButton","solid","abrupt","quantity","removeCartItem","_this3","_callee3","_callee3$","_context3"],"sources":["src/components/MaintainProduct/AddToCart.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <b-dropdown\r\n        id=\"cart-dd\"\r\n        v-if=\"validCartItem != -1\"\r\n        :size=\"buttonType\"\r\n        variant=\"info\"\r\n      >\r\n        <template #button-content>\r\n          <b-icon scale=\"1.2\" icon=\"cart-check-fill\" />\r\n          {{ addedButtonTitle }}\r\n        </template>\r\n        <b-dropdown-item @click=\"removeCartItem\">\r\n          Supprimer du chariot\r\n        </b-dropdown-item>\r\n      </b-dropdown>\r\n      <b-button\r\n        v-if=\"validCartItem == -1\"\r\n        :size=\"buttonType\"\r\n        variant=\"outline-info\"\r\n        @click=\"addToCart\"\r\n      >\r\n        <b-icon scale=\"1.2\" icon=\"cart-plus-fill\" />\r\n        {{ addButtonTitle }}\r\n      </b-button>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: \"AddToCart\",\r\n    props: {\r\n      addButtonTitle: {\r\n        default: \"\",\r\n        type: String,\r\n      },\r\n      addedButtonTitle: {\r\n        default: \"\",\r\n        type: String,\r\n      },\r\n      sales: Number,\r\n      buttonType: String,\r\n      productId: Number,\r\n      currency: String,\r\n      rating: Number,\r\n      image: String,\r\n      title: String,\r\n      amount: Number,\r\n    },\r\n    computed: {},\r\n    data() {\r\n      return {\r\n        validCartItem: -1,\r\n      };\r\n    },\r\n    async mounted() {\r\n      this.userId = this.$store.state.CurrentUser.userId;\r\n      this.validCartItem = await this.$store.dispatch(\r\n        \"Cart/getCartItem\",\r\n        this.productId\r\n      );\r\n    },\r\n    methods: {\r\n      async addToCart() {\r\n        if (this.userId == 0) {\r\n          this.$bvToast.toast(\"Veuillez vous connecter pour enregistrer sur le chariot\", {\r\n            title: \"Chariot\",\r\n            variant: \"danger\",\r\n            toaster: \"b-toaster-top-center\",\r\n            noCloseButton: false,\r\n            solid: true,\r\n          });\r\n          return;\r\n        }\r\n        const cartItem = {\r\n          sales: this.sales,\r\n          productId: this.productId,\r\n          title: this.title,\r\n          image: this.image,\r\n          rating: this.rating,\r\n          currency: this.currency,\r\n          amount: this.amount,\r\n          quantity: 1,\r\n        };\r\n        this.validCartItem = await this.$store.dispatch(\r\n          \"Cart/addToCart\",\r\n          cartItem\r\n        );\r\n  \r\n        if (this.validCartItem != -1) {\r\n          this.$bvToast.toast(\"Produit ajouté au chariot\", {\r\n            title: \"Chariot\",\r\n            variant: \"primary\",\r\n            toaster: \"b-toaster-top-center\",\r\n            noCloseButton: false,\r\n            solid: true,\r\n          });\r\n        }\r\n      },\r\n      async removeCartItem() {\r\n        this.validCartItem = await this.$store.dispatch(\r\n          \"Cart/removeCartItem\",\r\n          this.productId\r\n        );\r\n        if (this.validCartItem == -1) {\r\n          this.$bvToast.toast(\"Produit retiré du chariot\", {\r\n            title: \"Chariot\",\r\n            variant: \"primary\",\r\n            toaster: \"b-toaster-top-center\",\r\n            noCloseButton: false,\r\n            solid: true,\r\n          });\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  <style lang=\"scss\" scoped></style>\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}