{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport OrderService from \"@/services/OrderService.js\";\nimport TopHeader from \"@/components/Common/TopHeader.vue\";\nimport OrderItemService from \"@/services/OrderItemService.js\";\nimport InvalidParameter from \"@/components/NotFound/InvalidParameter.vue\";\nimport OrderDetails from \"@/components/Order/OrderDetails.vue\";\nimport OrderItems from \"@/components/Order/OrderItems.vue\";\nimport MyFooter from \"@/components/Common/MyFooter.vue\";\nexport default {\n  name: \"Order\",\n  components: {\n    TopHeader: TopHeader,\n    InvalidParameter: InvalidParameter,\n    OrderDetails: OrderDetails,\n    OrderItems: OrderItems,\n    MyFooter: MyFooter\n  },\n  data: function data() {\n    return {\n      orderInfo: {},\n      orderItems: [],\n      componentKey: 0,\n      validParam: true\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var sessionId;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            sessionId = _this.$route.params.sessionId;\n            _context.prev = 1;\n            _context.next = 4;\n            return OrderService.getOrderBySessionId(sessionId);\n          case 4:\n            _this.orderInfo = _context.sent.data;\n            _this.validParam = Object.keys(_this.orderInfo).length != 0;\n            _context.next = 11;\n            break;\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0.response.data.error);\n          case 11:\n            _context.prev = 11;\n            _context.next = 14;\n            return OrderItemService.getOrderItemList(_this.orderInfo.id);\n          case 14:\n            _this.orderItems = _context.sent.data;\n            _this.componentKey += 1;\n            _context.next = 21;\n            break;\n          case 18:\n            _context.prev = 18;\n            _context.t1 = _context[\"catch\"](11);\n            console.log(_context.t1.response.data.error);\n          case 21:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[1, 8], [11, 18]]);\n    }))();\n  },\n  computed: {},\n  methods: {\n    resetCart: function resetCart() {\n      this.orderItems = [];\n    },\n    logout: function logout() {\n      this.resetCart();\n    }\n  }\n};","map":{"version":3,"names":["OrderService","TopHeader","OrderItemService","InvalidParameter","OrderDetails","OrderItems","MyFooter","name","components","data","orderInfo","orderItems","componentKey","validParam","mounted","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","sessionId","wrap","_callee$","_context","prev","next","$route","params","getOrderBySessionId","sent","Object","keys","length","t0","console","log","response","error","getOrderItemList","id","t1","stop","computed","methods","resetCart","logout"],"sources":["src/views/BuyProduct/ViewOrder.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <TopHeader />\r\n      <b-container v-if=\"validParam\">\r\n        <b-row class=\"mt-4\">\r\n          <b-col class=\"text-center\">\r\n            <h3>Statut de la commande en ligne</h3>\r\n          </b-col>\r\n        </b-row>\r\n        <hr />\r\n        <b-row>\r\n          <b-col cols=\"6\">\r\n            <OrderDetails :key=\"componentKey\" :orderInfo=\"orderInfo\" />\r\n          </b-col>\r\n          <b-col cols=\"6\">\r\n            <OrderItems\r\n              :key=\"componentKey\"\r\n              :orderItems=\"orderItems\"\r\n              :orderInfo=\"orderInfo\"\r\n            />\r\n          </b-col>\r\n        </b-row>\r\n      </b-container>\r\n      <div v-if=\"!validParam\">\r\n        <InvalidParameter\r\n          paramName=\"order\"\r\n          pageToNavigate=\"Home Page\"\r\n          routerLink=\"/\"\r\n        />\r\n      </div>\r\n      <MyFooter class=\"mt-5\" />\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import OrderService from \"@/services/OrderService.js\";\r\n  import TopHeader from \"@/components/Common/TopHeader.vue\";\r\n  import OrderItemService from \"@/services/OrderItemService.js\";\r\n  import InvalidParameter from \"@/components/NotFound/InvalidParameter.vue\";\r\n  import OrderDetails from \"@/components/Order/OrderDetails.vue\";\r\n  import OrderItems from \"@/components/Order/OrderItems.vue\";\r\n  import MyFooter from \"@/components/Common/MyFooter.vue\";\r\n  export default {\r\n    name: \"Order\",\r\n    components: {\r\n      TopHeader,\r\n      InvalidParameter,\r\n      OrderDetails,\r\n      OrderItems,\r\n      MyFooter,\r\n    },\r\n    data() {\r\n      return {\r\n        orderInfo: {},\r\n        orderItems: [],\r\n        componentKey: 0,\r\n        validParam: true,\r\n      };\r\n    },\r\n    async mounted() {\r\n      const sessionId = this.$route.params.sessionId;\r\n      try {\r\n        this.orderInfo = (await OrderService.getOrderBySessionId(sessionId)).data;\r\n        this.validParam = Object.keys(this.orderInfo).length != 0;\r\n      } catch (error) {\r\n        console.log(error.response.data.error);\r\n      }\r\n      try {\r\n        this.orderItems = (\r\n          await OrderItemService.getOrderItemList(this.orderInfo.id)\r\n        ).data;\r\n        this.componentKey += 1;\r\n      } catch (error) {\r\n        console.log(error.response.data.error);\r\n      }\r\n    },\r\n    computed: {},\r\n    methods: {\r\n      resetCart() {\r\n    this.orderItems = [];\r\n  },\r\n  logout() {\r\n  \r\n    this.resetCart();\r\n  },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style lang=\"scss\" scoped></style>\r\n  "],"mappings":";;;AAmCA,OAAAA,YAAA;AACA,OAAAC,SAAA;AACA,OAAAC,gBAAA;AACA,OAAAC,gBAAA;AACA,OAAAC,YAAA;AACA,OAAAC,UAAA;AACA,OAAAC,QAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAP,SAAA,EAAAA,SAAA;IACAE,gBAAA,EAAAA,gBAAA;IACAC,YAAA,EAAAA,YAAA;IACAC,UAAA,EAAAA,UAAA;IACAC,QAAA,EAAAA;EACA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,UAAA;MACAC,YAAA;MACAC,UAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,SAAA;MAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACAL,SAAA,GAAAL,KAAA,CAAAW,MAAA,CAAAC,MAAA,CAAAP,SAAA;YAAAG,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAE,IAAA;YAAA,OAEAzB,YAAA,CAAA4B,mBAAA,CAAAR,SAAA;UAAA;YAAAL,KAAA,CAAAL,SAAA,GAAAa,QAAA,CAAAM,IAAA,CAAApB,IAAA;YACAM,KAAA,CAAAF,UAAA,GAAAiB,MAAA,CAAAC,IAAA,CAAAhB,KAAA,CAAAL,SAAA,EAAAsB,MAAA;YAAAT,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAU,EAAA,GAAAV,QAAA;YAEAW,OAAA,CAAAC,GAAA,CAAAZ,QAAA,CAAAU,EAAA,CAAAG,QAAA,CAAA3B,IAAA,CAAA4B,KAAA;UAAA;YAAAd,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAE,IAAA;YAAA,OAIAvB,gBAAA,CAAAoC,gBAAA,CAAAvB,KAAA,CAAAL,SAAA,CAAA6B,EAAA;UAAA;YADAxB,KAAA,CAAAJ,UAAA,GAAAY,QAAA,CAAAM,IAAA,CAEApB,IAAA;YACAM,KAAA,CAAAH,YAAA;YAAAW,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAiB,EAAA,GAAAjB,QAAA;YAEAW,OAAA,CAAAC,GAAA,CAAAZ,QAAA,CAAAiB,EAAA,CAAAJ,QAAA,CAAA3B,IAAA,CAAA4B,KAAA;UAAA;UAAA;YAAA,OAAAd,QAAA,CAAAkB,IAAA;QAAA;MAAA,GAAAtB,OAAA;IAAA;EAEA;EACAuB,QAAA;EACAC,OAAA;IACAC,SAAA,WAAAA,UAAA;MACA,KAAAjC,UAAA;IACA;IACAkC,MAAA,WAAAA,OAAA;MAEA,KAAAD,SAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}