{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport ReviewService from \"@/services/ReviewService.js\";\nimport ProductsService from \"@/services/ProductsService.js\";\nexport default {\n  name: \"Review\",\n  components: {},\n  data: function data() {\n    return {\n      zeroStar: 0,\n      zeroStarPercent: 0,\n      oneStar: 0,\n      oneStarPercent: 0,\n      twoStar: 0,\n      twoStarPercent: 0,\n      threeStar: 0,\n      threeStarPercent: 0,\n      fourStar: 0,\n      fourStarPercent: 0,\n      fiveStar: 0,\n      fiveStarPercent: 0,\n      ratingCount: 0,\n      averageRating: 0,\n      commentCount: 0,\n      currentUserReview: {},\n      userReviewFlag: false,\n      userId: 0,\n      admin: false,\n      userLoggedIn: false,\n      rating: 0,\n      comment: \"\",\n      reviewEditing: {},\n      editRating: 0,\n      editComment: \"\",\n      productId: 0,\n      currentPage: 1,\n      perPage: 3,\n      reviews: 0,\n      productRating: {},\n      reviewList: [],\n      reviewList2: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var start, i;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _this.userId = _this.$store.state.CurrentUser.userId;\n            _this.admin = _this.$store.state.CurrentUser.admin;\n            _this.userLoggedIn = _this.$store.state.CurrentUser.userLoggedIn;\n            _this.productId = parseInt(_this.$route.params.productId);\n            _context.prev = 4;\n            _context.next = 7;\n            return ProductsService.getProductRating(_this.productId);\n          case 7:\n            _this.productRating = _context.sent.data;\n            _context.next = 13;\n            break;\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](4);\n            console.log(_context.t0.response.data.error);\n          case 13:\n            _context.prev = 13;\n            _context.next = 16;\n            return ReviewService.getReviewList(_this.productId);\n          case 16:\n            _this.reviewList = _context.sent.data;\n            if (_this.reviewList) {\n              _this.reviews = _this.reviewList.length;\n              start = 0;\n              _this.reviewList2 = _this.reviewList.slice(start, start + _this.perPage);\n            }\n            _context.next = 23;\n            break;\n          case 20:\n            _context.prev = 20;\n            _context.t1 = _context[\"catch\"](13);\n            console.log(_context.t1.response.data.error);\n          case 23:\n            for (i = 0; i < _this.reviewList.length; i++) {\n              if (_this.reviewList[i].comment != \"\") _this.commentCount++;\n              if (_this.reviewList[i].rating == 0) _this.zeroStar++;else if (_this.reviewList[i].rating == 1) _this.oneStar++;else if (_this.reviewList[i].rating == 2) _this.twoStar++;else if (_this.reviewList[i].rating == 3) _this.threeStar++;else if (_this.reviewList[i].rating == 4) _this.fourStar++;else if (_this.reviewList[i].rating == 5) _this.fiveStar++;\n              if (_this.reviewList[i].UserId == _this.userId) _this.currentUserReview = _this.reviewList[i];\n              _this.userReviewFlag = Object.keys(_this.currentUserReview).length != 0;\n              if (!_this.reviewList[i].mode) {\n                _this.reviewList[i].mode = 0;\n              }\n            }\n            _this.ratingCount = _this.oneStar + _this.twoStar + _this.threeStar + _this.fourStar + _this.fiveStar;\n            if (_this.ratingCount != 0) {\n              _this.averageRating = Math.round(10 * (5 * _this.fiveStar + 4 * _this.fourStar + 3 * _this.threeStar + 2 * _this.twoStar + 1 * _this.oneStar) / _this.ratingCount) / 10;\n              _this.oneStarPercent = Math.round(_this.oneStar * 100 / _this.ratingCount);\n              _this.twoStarPercent = Math.round(_this.twoStar * 100 / _this.ratingCount);\n              _this.threeStarPercent = Math.round(_this.threeStar * 100 / _this.ratingCount);\n              _this.fourStarPercent = Math.round(_this.fourStar * 100 / _this.ratingCount);\n              _this.fiveStarPercent = Math.round(_this.fiveStar * 100 / _this.ratingCount);\n            }\n          case 26:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[4, 10], [13, 20]]);\n    }))();\n  },\n  methods: {\n    paginate: function paginate(currentPage) {\n      var start = (currentPage - 1) * this.perPage;\n      this.reviewList2 = this.reviewList.slice(start, start + this.perPage);\n    },\n    createReview: function createReview() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _this2.$store.dispatch(\"Review/createReview\", {\n                rating: _this2.rating,\n                comment: _this2.comment,\n                productId: _this2.productId,\n                productRating: _this2.productRating\n              });\n            case 2:\n              _context2.next = 4;\n              return _this2.$store.dispatch(\"Products/setAllBackupProducts\");\n            case 4:\n              window.location.reload();\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    },\n    editReview: function editReview(review) {\n      this.editRating = review.rating;\n      this.editComment = review.comment;\n      this.reviewEditing = review;\n      this.$bvModal.show(\"editReviewModal\");\n    },\n    updateReview: function updateReview() {\n      var _this3 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _this3.$bvModal.hide(\"editReviewModal\");\n              _context3.next = 3;\n              return _this3.$store.dispatch(\"Review/updateReview\", {\n                review: _this3.reviewEditing,\n                newRating: _this3.editRating,\n                newComment: _this3.editComment\n              });\n            case 3:\n              _context3.next = 5;\n              return _this3.$store.dispatch(\"Products/setAllBackupProducts\");\n            case 5:\n              window.location.reload();\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }))();\n    },\n    deleteReview: function deleteReview(review) {\n      var _this4 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!_this4.userLoggedIn) {\n                _context4.next = 6;\n                break;\n              }\n              _context4.next = 3;\n              return _this4.$store.dispatch(\"Review/deleteReview\", review);\n            case 3:\n              _context4.next = 5;\n              return _this4.$store.dispatch(\"Products/setAllBackupProducts\");\n            case 5:\n              window.location.reload();\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["ReviewService","ProductsService","name","components","data","zeroStar","zeroStarPercent","oneStar","oneStarPercent","twoStar","twoStarPercent","threeStar","threeStarPercent","fourStar","fourStarPercent","fiveStar","fiveStarPercent","ratingCount","averageRating","commentCount","currentUserReview","userReviewFlag","userId","admin","userLoggedIn","rating","comment","reviewEditing","editRating","editComment","productId","currentPage","perPage","reviews","productRating","reviewList","reviewList2","mounted","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","start","i","wrap","_callee$","_context","prev","next","$store","state","CurrentUser","parseInt","$route","params","getProductRating","sent","t0","console","log","response","error","getReviewList","length","slice","t1","UserId","Object","keys","mode","Math","round","stop","methods","paginate","createReview","_this2","_callee2","_callee2$","_context2","dispatch","window","location","reload","editReview","review","$bvModal","show","updateReview","_this3","_callee3","_callee3$","_context3","hide","newRating","newComment","deleteReview","_this4","_callee4","_callee4$","_context4"],"sources":["src/components/ProductDetails/Review.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <b-row align-v=\"center\">\r\n        <b-col />\r\n        <b-col cols=\"4\" class=\"text-center\">\r\n          <b-card class=\"py-4\">\r\n            <br />\r\n            <strong>\r\n              <span>{{ averageRating }}</span>\r\n              <span>/5</span>\r\n            </strong>\r\n            <b-row class=\"mt-2\">\r\n              <b-col cols=\"2\" />\r\n              <b-col cols=\"8\">\r\n                <b-form-rating\r\n                  readonly\r\n                  :value=\"averageRating\"\r\n                  variant=\"primary\"\r\n                />\r\n              </b-col>\r\n              <b-col cols=\"2\" />\r\n            </b-row>\r\n            <h6 class=\"mt-2\">\r\n              {{ ratingCount }}\r\n              {{ ratingCount >= 1 ? \"rating\" : \"ratings\" }} &amp;\r\n              {{ commentCount }} {{ commentCount >= 1 ? \"comment\" : \"comments\" }}\r\n            </h6>\r\n            <br />\r\n          </b-card>\r\n        </b-col>\r\n        <b-col cols=\"4\" class=\"justify-content-center\">\r\n          <b-row align-v=\"center\" class=\"my-2\">\r\n            <b-col cols=\"2\">\r\n              <small>5 étoiles</small>\r\n            </b-col>\r\n            <b-col cols=\"7\">\r\n              <b-progress variant=\"primary\">\r\n                <b-progress-bar\r\n                  :value=\"fiveStarPercent\"\r\n                  :label=\"`${fiveStar}`\"\r\n                ></b-progress-bar>\r\n              </b-progress>\r\n            </b-col>\r\n            <b-col cols=\"3\">\r\n              <small\r\n                >{{ fiveStarPercent }} <b-icon icon=\"percent\"></b-icon\r\n              ></small>\r\n            </b-col>\r\n          </b-row>\r\n  \r\n          <b-row align-v=\"center\" class=\"my-2\">\r\n            <b-col cols=\"2\">\r\n              <small>4 étoiles</small>\r\n            </b-col>\r\n            <b-col cols=\"7\">\r\n              <b-progress variant=\"primary\">\r\n                <b-progress-bar\r\n                  :value=\"fourStarPercent\"\r\n                  :label=\"`${fourStar}`\"\r\n                ></b-progress-bar>\r\n              </b-progress>\r\n            </b-col>\r\n            <b-col cols=\"3\">\r\n              <small>\r\n                {{ fourStarPercent }}\r\n                <b-icon icon=\"percent\"></b-icon>\r\n              </small>\r\n            </b-col>\r\n          </b-row>\r\n  \r\n          <b-row align-v=\"center\" class=\"my-2\">\r\n            <b-col cols=\"2\">\r\n              <small>3 étoiles</small>\r\n            </b-col>\r\n            <b-col cols=\"7\">\r\n              <b-progress variant=\"primary\">\r\n                <b-progress-bar\r\n                  :value=\"threeStarPercent\"\r\n                  :label=\"`${threeStar}`\"\r\n                ></b-progress-bar>\r\n              </b-progress>\r\n            </b-col>\r\n            <b-col cols=\"3\">\r\n              <small\r\n                >{{ threeStarPercent }} <b-icon icon=\"percent\"></b-icon\r\n              ></small>\r\n            </b-col>\r\n          </b-row>\r\n  \r\n          <b-row align-v=\"center\" class=\"my-2\">\r\n            <b-col cols=\"2\">\r\n              <small>2 étoiles</small>\r\n            </b-col>\r\n            <b-col cols=\"7\">\r\n              <b-progress variant=\"primary\">\r\n                <b-progress-bar\r\n                  :value=\"twoStarPercent\"\r\n                  :label=\"`${twoStar}`\"\r\n                ></b-progress-bar>\r\n              </b-progress>\r\n            </b-col>\r\n            <b-col cols=\"3\">\r\n              <small>{{ twoStarPercent }} <b-icon icon=\"percent\"></b-icon></small>\r\n            </b-col>\r\n          </b-row>\r\n  \r\n          <b-row align-v=\"center\" class=\"my-2\">\r\n            <b-col cols=\"2\">\r\n              <small>1 étoiles</small>\r\n            </b-col>\r\n            <b-col cols=\"7\">\r\n              <b-progress variant=\"primary\">\r\n                <b-progress-bar\r\n                  :value=\"oneStarPercent\"\r\n                  :label=\"`${oneStar}`\"\r\n                ></b-progress-bar>\r\n              </b-progress>\r\n            </b-col>\r\n            <b-col cols=\"3\">\r\n              <small>{{ oneStarPercent }} <b-icon icon=\"percent\"></b-icon></small>\r\n            </b-col>\r\n          </b-row>\r\n        </b-col>\r\n        <b-col />\r\n      </b-row>\r\n  \r\n      <hr />\r\n      <b-row>\r\n        <b-col cols=\"6\">\r\n          <h4>Avis Clients</h4>\r\n          <hr />\r\n          <div v-for=\"review in reviewList2\" :key=\"review.id\" class=\"mb-2\">\r\n            <b-card\r\n              bg-variant=\"white\"\r\n              text-variant=\"dark\"\r\n              v-if=\"review.comment != null && review.UserId != userId\"\r\n            >\r\n              <b-row>\r\n                <b-col cols=\"3\">\r\n                  <b-img\r\n                    :src=\"review.User.profileImage\"\r\n                    height=\"60px\"\r\n                    width=\"60px\"\r\n                  />\r\n                  <div class=\"mt-3\">\r\n                    <b-link>\r\n                      {{ review.User.firstName + \" \" + review.User.lastName }}\r\n                    </b-link>\r\n                  </div>\r\n                </b-col>\r\n                <b-col cols=\"9\">\r\n                  <b-row>\r\n                    <b-col cols=\"7\">\r\n                      <b-form-rating\r\n                        readonly\r\n                        :value=\"review.rating\"\r\n                        variant=\"primary\"\r\n                      />\r\n                    </b-col>\r\n                  </b-row>\r\n                  <b-row class=\"mt-2\">\r\n                    <b-col>\r\n                      <p>{{ review.comment }}</p>\r\n                    </b-col>\r\n                  </b-row>\r\n                  <b-row>\r\n                    <b-col>\r\n                      <small class=\"mr-2\">\r\n                        <b-link\r\n                          v-if=\"userId == review.UserId\"\r\n                          @click=\"editReview(review)\"\r\n                        >\r\n                          Modifier\r\n                        </b-link>\r\n                      </small>\r\n                      <small>\r\n                        <b-link\r\n                          v-if=\"userId == review.UserId || admin\"\r\n                          @click=\"deleteReview(review)\"\r\n                        >\r\n                          Supprimer\r\n                        </b-link>\r\n                      </small>\r\n                    </b-col>\r\n                  </b-row>\r\n                </b-col>\r\n              </b-row>\r\n            </b-card>\r\n          </div>\r\n          <b-pagination\r\n            v-if=\"reviews > perPage\"\r\n            size=\"md\"\r\n            v-model=\"currentPage\"\r\n            :total-rows=\"reviews\"\r\n            :per-page=\"perPage\"\r\n            @input=\"paginate(currentPage)\"\r\n          ></b-pagination>\r\n        </b-col>\r\n        <b-col cols=\"6\">\r\n          <b-card bg-variant=\"white\" text-variant=\"dark\" v-if=\"userReviewFlag\">\r\n            <b-card-title> Votre avis </b-card-title>\r\n            <b-row>\r\n              <b-col cols=\"4\">\r\n                <b-img\r\n                  :src=\"currentUserReview.User.profileImage\"\r\n                  height=\"90px\"\r\n                  width=\"90px\"\r\n                />\r\n                <div class=\"mt-2\">\r\n                  <b-link>\r\n                    {{\r\n                      currentUserReview.User.firstName +\r\n                      \" \" +\r\n                      currentUserReview.User.lastName\r\n                    }}\r\n                  </b-link>\r\n                </div>\r\n              </b-col>\r\n              <b-col cols=\"8\">\r\n                <b-row>\r\n                  <b-col cols=\"7\">\r\n                    <b-form-rating\r\n                      readonly\r\n                      :value=\"currentUserReview.rating\"\r\n                      variant=\"primary\"\r\n                    />\r\n                  </b-col>\r\n                </b-row>\r\n                <b-row class=\"mt-2\">\r\n                  <b-col>\r\n                    <p>{{ currentUserReview.comment }}</p>\r\n                  </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                  <b-col>\r\n                    <small class=\"mr-2\">\r\n                      <b-link @click=\"editReview(currentUserReview)\">\r\n                        Modifier\r\n                      </b-link>\r\n                    </small>\r\n                    <small>\r\n                      <b-link @click=\"deleteReview(currentUserReview)\">\r\n                        Supprimer\r\n                      </b-link>\r\n                    </small>\r\n                  </b-col>\r\n                </b-row>\r\n              </b-col>\r\n            </b-row>\r\n          </b-card>\r\n          <b-card v-if=\"!userReviewFlag\">\r\n            <div class=\"mt-2 ml-3\">\r\n              <a variant=\"primary\">\r\n                <b-icon-pen />&nbsp;<strong>Write a review</strong>\r\n              </a>\r\n            </div>\r\n            <hr />\r\n            <b-form v-if=\"userLoggedIn\" @submit.stop.prevent=\"createReview\">\r\n              <b-row>\r\n                <b-col cols=\"5\">\r\n                  <h6>Notation</h6>\r\n                  <b-form-rating v-model=\"rating\" variant=\"primary\" />\r\n                </b-col>\r\n              </b-row>\r\n              <div class=\"mt-4\">Commentaire</div>\r\n              <b-form-group>\r\n                <b-form-textarea\r\n                  required\r\n                  v-model=\"comment\"\r\n                  placeholder=\"Write a review\"\r\n                  rows=\"3\"\r\n                  max-rows=\"8\"\r\n                />\r\n              </b-form-group>\r\n              <b-button variant=\"primary\" type=\"submit\"> Submit </b-button>\r\n            </b-form>\r\n            <div v-if=\"!userLoggedIn\">\r\n              Vous ne pourrez pas rédiger d'avis tant que vous ne serez pas connecté.\r\n              <b-row>\r\n                <b-col>\r\n                  <b-button to=\"/login\" class=\"mt-3\" variant=\"outline-dark\">\r\n                    Connexion\r\n                  </b-button>\r\n                </b-col>\r\n              </b-row>\r\n            </div>\r\n          </b-card>\r\n        </b-col>\r\n      </b-row>\r\n      <b-modal\r\n        v-if=\"userLoggedIn\"\r\n        hide-footer\r\n        id=\"editReviewModal\"\r\n        title=\"Write a review\"\r\n      >\r\n        <b-form @submit.stop.prevent=\"updateReview\">\r\n          <b-row>\r\n            <b-col cols=\"5\">\r\n              <h6>Notation</h6>\r\n              <b-form-rating v-model=\"editRating\" variant=\"primary\" />\r\n            </b-col>\r\n          </b-row>\r\n          <div class=\"mt-4\">Commentaire</div>\r\n          <b-form-group>\r\n            <b-form-textarea\r\n              v-model=\"editComment\"\r\n              placeholder=\"Write a review\"\r\n              rows=\"3\"\r\n              required\r\n              max-rows=\"10\"\r\n            />\r\n          </b-form-group>\r\n          <b-button type=\"submit\" variant=\"primary\"> Submit </b-button>\r\n        </b-form>\r\n      </b-modal>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import ReviewService from \"@/services/ReviewService.js\";\r\n  import ProductsService from \"@/services/ProductsService.js\";\r\n  export default {\r\n    name: \"Review\",\r\n    components: {},\r\n    data() {\r\n      return {\r\n        zeroStar: 0,\r\n        zeroStarPercent: 0,\r\n        oneStar: 0,\r\n        oneStarPercent: 0,\r\n        twoStar: 0,\r\n        twoStarPercent: 0,\r\n        threeStar: 0,\r\n        threeStarPercent: 0,\r\n        fourStar: 0,\r\n        fourStarPercent: 0,\r\n        fiveStar: 0,\r\n        fiveStarPercent: 0,\r\n        ratingCount: 0,\r\n        averageRating: 0,\r\n        commentCount: 0,\r\n        currentUserReview: {},\r\n        userReviewFlag: false,\r\n        userId: 0,\r\n        admin: false,\r\n        userLoggedIn: false,\r\n        rating: 0,\r\n        comment: \"\",\r\n        reviewEditing: {},\r\n        editRating: 0,\r\n        editComment: \"\",\r\n        productId: 0,\r\n        currentPage: 1,\r\n        perPage: 3,\r\n        reviews: 0,\r\n        productRating: {},\r\n        reviewList: [],\r\n        reviewList2: [],\r\n      };\r\n    },\r\n    async mounted() {\r\n      this.userId = this.$store.state.CurrentUser.userId;\r\n      this.admin = this.$store.state.CurrentUser.admin;\r\n      this.userLoggedIn = this.$store.state.CurrentUser.userLoggedIn;\r\n      this.productId = parseInt(this.$route.params.productId);\r\n      try {\r\n        this.productRating = (\r\n          await ProductsService.getProductRating(this.productId)\r\n        ).data;\r\n      } catch (error) {\r\n        console.log(error.response.data.error);\r\n      }\r\n      try {\r\n        this.reviewList = (\r\n          await ReviewService.getReviewList(this.productId)\r\n        ).data;\r\n        if (this.reviewList) {\r\n          this.reviews = this.reviewList.length;\r\n          const start = 0;\r\n          this.reviewList2 = this.reviewList.slice(start, start + this.perPage);\r\n        }\r\n      } catch (error) {\r\n        console.log(error.response.data.error);\r\n      }\r\n      var i;\r\n      for (i = 0; i < this.reviewList.length; i++) {\r\n        if (this.reviewList[i].comment != \"\") this.commentCount++;\r\n        if (this.reviewList[i].rating == 0) this.zeroStar++;\r\n        else if (this.reviewList[i].rating == 1) this.oneStar++;\r\n        else if (this.reviewList[i].rating == 2) this.twoStar++;\r\n        else if (this.reviewList[i].rating == 3) this.threeStar++;\r\n        else if (this.reviewList[i].rating == 4) this.fourStar++;\r\n        else if (this.reviewList[i].rating == 5) this.fiveStar++;\r\n  \r\n        if (this.reviewList[i].UserId == this.userId)\r\n          this.currentUserReview = this.reviewList[i];\r\n        this.userReviewFlag = Object.keys(this.currentUserReview).length != 0;\r\n        if (!this.reviewList[i].mode) {\r\n          this.reviewList[i].mode = 0;\r\n        }\r\n      }\r\n      this.ratingCount =\r\n        this.oneStar +\r\n        this.twoStar +\r\n        this.threeStar +\r\n        this.fourStar +\r\n        this.fiveStar;\r\n      if (this.ratingCount != 0) {\r\n        this.averageRating =\r\n          Math.round(\r\n            (10 *\r\n              (5 * this.fiveStar +\r\n                4 * this.fourStar +\r\n                3 * this.threeStar +\r\n                2 * this.twoStar +\r\n                1 * this.oneStar)) /\r\n              this.ratingCount\r\n          ) / 10;\r\n        this.oneStarPercent = Math.round((this.oneStar * 100) / this.ratingCount);\r\n        this.twoStarPercent = Math.round((this.twoStar * 100) / this.ratingCount);\r\n        this.threeStarPercent = Math.round(\r\n          (this.threeStar * 100) / this.ratingCount\r\n        );\r\n        this.fourStarPercent = Math.round(\r\n          (this.fourStar * 100) / this.ratingCount\r\n        );\r\n        this.fiveStarPercent = Math.round(\r\n          (this.fiveStar * 100) / this.ratingCount\r\n        );\r\n      }\r\n    },\r\n    methods: {\r\n      paginate(currentPage) {\r\n        const start = (currentPage - 1) * this.perPage;\r\n        this.reviewList2 = this.reviewList.slice(start, start + this.perPage);\r\n      },\r\n      async createReview() {\r\n        await this.$store.dispatch(\"Review/createReview\", {\r\n          rating: this.rating,\r\n          comment: this.comment,\r\n          productId: this.productId,\r\n          productRating: this.productRating,\r\n        });\r\n        await this.$store.dispatch(\"Products/setAllBackupProducts\");\r\n        window.location.reload();\r\n      },\r\n  \r\n      editReview(review) {\r\n        this.editRating = review.rating;\r\n        this.editComment = review.comment;\r\n        this.reviewEditing = review;\r\n        this.$bvModal.show(\"editReviewModal\");\r\n      },\r\n      async updateReview() {\r\n        this.$bvModal.hide(\"editReviewModal\");\r\n        await this.$store.dispatch(\"Review/updateReview\", {\r\n          review: this.reviewEditing,\r\n          newRating: this.editRating,\r\n          newComment: this.editComment,\r\n        });\r\n        await this.$store.dispatch(\"Products/setAllBackupProducts\");\r\n        window.location.reload();\r\n      },\r\n  \r\n      async deleteReview(review) {\r\n        if (this.userLoggedIn) {\r\n          await this.$store.dispatch(\"Review/deleteReview\", review);\r\n          await this.$store.dispatch(\"Products/setAllBackupProducts\");\r\n          window.location.reload();\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style lang=\"scss\" scoped></style>\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}