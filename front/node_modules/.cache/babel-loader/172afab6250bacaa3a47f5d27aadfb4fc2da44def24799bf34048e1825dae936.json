{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport WishlistService from \"@/services/WishlistService.js\";\nimport ProductsService from \"@/services/ProductsService.js\";\nexport default {\n  name: \"ProductHeader\",\n  data: function data() {\n    return {\n      admin: false,\n      productId: 0,\n      categoryName: \"\",\n      subCategoryName: \"\",\n      subSubCategoryName: \"\"\n    };\n  },\n  props: {\n    productName: String,\n    categoryId: Number,\n    subCategoryId: Number,\n    subSubCategoryId: Number\n  },\n  components: {},\n  computed: {},\n  mounted: function mounted() {\n    var _this = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _this.admin = _this.$store.state.CurrentUser.admin;\n            _this.productId = _this.$route.params.productId;\n            if (!(_this.categoryId && _this.subCategoryId && _this.subSubCategoryId)) {\n              _context.next = 12;\n              break;\n            }\n            _context.next = 5;\n            return _this.$store.dispatch(\"Category/getCategoryName\", _this.categoryId);\n          case 5:\n            _this.categoryName = _context.sent;\n            _context.next = 8;\n            return _this.$store.dispatch(\"Category/getSubCategoryName\", _this.subCategoryId);\n          case 8:\n            _this.subCategoryName = _context.sent;\n            _context.next = 11;\n            return _this.$store.dispatch(\"Category/getSubSubCategoryName\", _this.subSubCategoryId);\n          case 11:\n            _this.subSubCategoryName = _context.sent;\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    deleteProduct: function deleteProduct() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return WishlistService.deleteWishItemByProduct(_this2.productId);\n            case 2:\n              _context2.next = 4;\n              return ProductsService.deleteProduct(_this2.productId);\n            case 4:\n              _context2.next = 6;\n              return _this2.$store.dispatch(\"Products/setAllBackupProducts\");\n            case 6:\n              _context2.next = 8;\n              return _this2.$store.dispatch(\"Wishlist/setWishlist\");\n            case 8:\n              _this2.$router.push({\n                path: \"/products\"\n              });\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["WishlistService","ProductsService","name","data","admin","productId","categoryName","subCategoryName","subSubCategoryName","props","productName","String","categoryId","Number","subCategoryId","subSubCategoryId","components","computed","mounted","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","state","CurrentUser","$route","params","dispatch","sent","stop","methods","deleteProduct","_this2","_callee2","_callee2$","_context2","deleteWishItemByProduct","$router","push","path"],"sources":["src/components/ProductDetails/ProductHeader.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <b-navbar size=\"sm\" toggleable=\"md\" type=\"primary\" variant=\"white\">\r\n        <b-navbar-brand href=\"#\" to=\"/products\">\r\n          <b-icon variant=\"primary\" icon=\"house-door-fill\" />\r\n          <b-icon class=\"ml-2\" scale=\".7\" icon=\"chevron-right\" />\r\n        </b-navbar-brand>\r\n        <b-navbar-toggle target=\"nav-products-collapse\">\r\n          <b-button-toolbar>\r\n            <b-button-group>\r\n              <b-button variant=\"outline-dark\" class=\"px-3 py-2\">\r\n                <b-icon scale=\"1.6\" icon=\"list\" />\r\n              </b-button>\r\n            </b-button-group>\r\n          </b-button-toolbar>\r\n        </b-navbar-toggle>\r\n        <b-collapse id=\"nav-products-collapse\" is-nav>\r\n          <b-navbar-nav class=\"mr-auto\">\r\n            <b-nav-item :to=\"`/products/${categoryName}`\">\r\n              {{ categoryName }}\r\n              <b-icon class=\"ml-2\" scale=\".7\" icon=\"chevron-right\" />\r\n            </b-nav-item>\r\n            <b-nav-item :to=\"`/products/${categoryName}/${subCategoryName}`\">\r\n              {{ subCategoryName }}\r\n              <b-icon class=\"ml-2\" scale=\".7\" icon=\"chevron-right\" />\r\n            </b-nav-item>\r\n            <b-nav-item\r\n              :to=\"`/products/${categoryName}/${subCategoryName}/${subSubCategoryName}`\"\r\n            >\r\n              {{ subSubCategoryName }}\r\n              <b-icon class=\"ml-2\" scale=\".7\" icon=\"chevron-right\" />\r\n            </b-nav-item>\r\n            <b-nav-item to=\"#\">\r\n              {{ productName }}\r\n            </b-nav-item>\r\n          </b-navbar-nav>\r\n          <b-navbar-nav class=\"ml-auto\">\r\n            <b-button v-if=\"admin\" @click=\"deleteProduct()\" variant=\"danger\">\r\n              <b-icon icon=\"trash\" />\r\n              Supprimer article\r\n            </b-button>\r\n          </b-navbar-nav>\r\n        </b-collapse>\r\n      </b-navbar>\r\n      <hr class=\"m-0\" />\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import WishlistService from \"@/services/WishlistService.js\";\r\n  import ProductsService from \"@/services/ProductsService.js\";\r\n  export default {\r\n    name: \"ProductHeader\",\r\n    data() {\r\n      return {\r\n        admin: false,\r\n        productId: 0,\r\n        categoryName: \"\",\r\n        subCategoryName: \"\",\r\n        subSubCategoryName: \"\",\r\n      };\r\n    },\r\n    props: {\r\n      productName: String,\r\n      categoryId: Number,\r\n      subCategoryId: Number,\r\n      subSubCategoryId: Number,\r\n    },\r\n    components: {},\r\n    computed: {},\r\n    async mounted() {\r\n      this.admin = this.$store.state.CurrentUser.admin;\r\n      this.productId = this.$route.params.productId;\r\n      if (this.categoryId && this.subCategoryId && this.subSubCategoryId) {\r\n        this.categoryName = await this.$store.dispatch(\r\n          \"Category/getCategoryName\",\r\n          this.categoryId\r\n        );\r\n        this.subCategoryName = await this.$store.dispatch(\r\n          \"Category/getSubCategoryName\",\r\n          this.subCategoryId\r\n        );\r\n        this.subSubCategoryName = await this.$store.dispatch(\r\n          \"Category/getSubSubCategoryName\",\r\n          this.subSubCategoryId\r\n        );\r\n      }\r\n    },\r\n    methods: {\r\n      async deleteProduct() {\r\n        await WishlistService.deleteWishItemByProduct(this.productId);\r\n        await ProductsService.deleteProduct(this.productId);\r\n        await this.$store.dispatch(\"Products/setAllBackupProducts\");\r\n        await this.$store.dispatch(\"Wishlist/setWishlist\");\r\n        this.$router.push({ path: \"/products\" });\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style lang=\"scss\" scoped></style>\r\n  "],"mappings":";;;;AAiDA,OAAAA,eAAA;AACA,OAAAC,eAAA;AACA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,KAAA;MACAC,SAAA;MACAC,YAAA;MACAC,eAAA;MACAC,kBAAA;IACA;EACA;EACAC,KAAA;IACAC,WAAA,EAAAC,MAAA;IACAC,UAAA,EAAAC,MAAA;IACAC,aAAA,EAAAD,MAAA;IACAE,gBAAA,EAAAF;EACA;EACAG,UAAA;EACAC,QAAA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACAT,KAAA,CAAAf,KAAA,GAAAe,KAAA,CAAAU,MAAA,CAAAC,KAAA,CAAAC,WAAA,CAAA3B,KAAA;YACAe,KAAA,CAAAd,SAAA,GAAAc,KAAA,CAAAa,MAAA,CAAAC,MAAA,CAAA5B,SAAA;YAAA,MACAc,KAAA,CAAAP,UAAA,IAAAO,KAAA,CAAAL,aAAA,IAAAK,KAAA,CAAAJ,gBAAA;cAAAW,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACAT,KAAA,CAAAU,MAAA,CAAAK,QAAA,CACA,4BACAf,KAAA,CAAAP,UACA;UAAA;YAHAO,KAAA,CAAAb,YAAA,GAAAoB,QAAA,CAAAS,IAAA;YAAAT,QAAA,CAAAE,IAAA;YAAA,OAIAT,KAAA,CAAAU,MAAA,CAAAK,QAAA,CACA,+BACAf,KAAA,CAAAL,aACA;UAAA;YAHAK,KAAA,CAAAZ,eAAA,GAAAmB,QAAA,CAAAS,IAAA;YAAAT,QAAA,CAAAE,IAAA;YAAA,OAIAT,KAAA,CAAAU,MAAA,CAAAK,QAAA,CACA,kCACAf,KAAA,CAAAJ,gBACA;UAAA;YAHAI,KAAA,CAAAX,kBAAA,GAAAkB,QAAA,CAAAS,IAAA;UAAA;UAAA;YAAA,OAAAT,QAAA,CAAAU,IAAA;QAAA;MAAA,GAAAb,OAAA;IAAA;EAKA;EACAc,OAAA;IACAC,aAAA,WAAAA,cAAA;MAAA,IAAAC,MAAA;MAAA,OAAAnB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAkB,SAAA;QAAA,OAAAnB,mBAAA,GAAAG,IAAA,UAAAiB,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAf,IAAA,GAAAe,SAAA,CAAAd,IAAA;YAAA;cAAAc,SAAA,CAAAd,IAAA;cAAA,OACA5B,eAAA,CAAA2C,uBAAA,CAAAJ,MAAA,CAAAlC,SAAA;YAAA;cAAAqC,SAAA,CAAAd,IAAA;cAAA,OACA3B,eAAA,CAAAqC,aAAA,CAAAC,MAAA,CAAAlC,SAAA;YAAA;cAAAqC,SAAA,CAAAd,IAAA;cAAA,OACAW,MAAA,CAAAV,MAAA,CAAAK,QAAA;YAAA;cAAAQ,SAAA,CAAAd,IAAA;cAAA,OACAW,MAAA,CAAAV,MAAA,CAAAK,QAAA;YAAA;cACAK,MAAA,CAAAK,OAAA,CAAAC,IAAA;gBAAAC,IAAA;cAAA;YAAA;YAAA;cAAA,OAAAJ,SAAA,CAAAN,IAAA;UAAA;QAAA,GAAAI,QAAA;MAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}