{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport ReviewService from \"@/services/ReviewService.js\";\nexport default {\n  name: \"UReviews\",\n  components: {},\n  data: function data() {\n    return {\n      reviews: 0,\n      currentPage: 1,\n      perPage: 3,\n      userId: 0,\n      user: {},\n      editReviewAlert: null,\n      editReviewId: 0,\n      editRating: null,\n      editComment: \"\",\n      productId: 0,\n      reviewList: [],\n      reviewList2: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var start;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _this.userId = _this.$store.state.CurrentUser.userId;\n            _this.user = _this.$store.state.CurrentUser.user;\n            _context.prev = 2;\n            _context.next = 5;\n            return ReviewService.getUsersReviewList(_this.userId);\n          case 5:\n            _this.reviewList = _context.sent.data;\n            if (_this.reviewList) {\n              _this.reviews = _this.reviewList.length;\n              start = 0;\n              _this.reviewList2 = _this.reviewList.slice(start, start + _this.perPage);\n            }\n            _context.next = 12;\n            break;\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](2);\n            console.log(_context.t0.response.data.error);\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[2, 9]]);\n    }))();\n  },\n  methods: {\n    paginate: function paginate(currentPage) {\n      var start = (currentPage - 1) * this.perPage;\n      this.reviewList2 = this.reviewList.slice(start, start + this.perPage);\n    }\n  },\n  computed: {}\n};","map":{"version":3,"names":["ReviewService","name","components","data","reviews","currentPage","perPage","userId","user","editReviewAlert","editReviewId","editRating","editComment","productId","reviewList","reviewList2","mounted","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","start","wrap","_callee$","_context","prev","next","$store","state","CurrentUser","getUsersReviewList","sent","length","slice","t0","console","log","response","error","stop","methods","paginate","computed"],"sources":["src/components/User/Profile/UReviews.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <div style=\"color: #001e5f\" v-if=\"reviews != 0 && reviews != 1\">\r\n        <h4>Tu as fait {{ reviews }} avis sur le produit.</h4>\r\n      </div>\r\n      <div style=\"color: #001e5f\" v-if=\"reviews == 0 || reviews == 1\">\r\n        <h4>Tu as fait {{ reviews }} avis sur le produit.</h4>\r\n      </div>\r\n  \r\n      <div v-for=\"review in reviewList2\" :key=\"review.id\" class=\"mb-2\">\r\n        <b-card class=\"mt-3\" bg-variant=\"white\" text-variant=\"dark\">\r\n          <b-row>\r\n            <b-col cols=\"3\">\r\n              <b-img\r\n                class=\"mb-2\"\r\n                :src=\"review.Product.image1\"\r\n                height=\"140px\"\r\n                width=\"140px\"\r\n              />\r\n            </b-col>\r\n            <b-col cols=\"9\">\r\n             votre avis sur&nbsp;\r\n              <b-link :to=\"`/product/${review.ProductId}`\">\r\n                {{ review.Product.title }}\r\n              </b-link>\r\n              <b-row class=\"mt-3\">\r\n                <b-col cols=\"7\">\r\n                  <b-form-rating\r\n                    readonly\r\n                    :value=\"review.rating\"\r\n                    variant=\"primary\"\r\n                    class=\"mb-2\"\r\n                  />\r\n                </b-col>\r\n              </b-row>\r\n              <b-row>\r\n                <b-col>\r\n                  <p>{{ review.comment }}</p>\r\n                </b-col>\r\n              </b-row>\r\n            </b-col>\r\n          </b-row>\r\n        </b-card>\r\n      </div>\r\n      <b-pagination\r\n        v-if=\"reviews > perPage\"\r\n        size=\"lg\"\r\n        v-model=\"currentPage\"\r\n        :total-rows=\"reviews\"\r\n        :per-page=\"perPage\"\r\n        @input=\"paginate(currentPage)\"\r\n      ></b-pagination>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import ReviewService from \"@/services/ReviewService.js\";\r\n  export default {\r\n    name: \"UReviews\",\r\n    components: {},\r\n    data() {\r\n      return {\r\n        reviews: 0,\r\n        currentPage: 1,\r\n        perPage: 3,\r\n        userId: 0,\r\n        user: {},\r\n        editReviewAlert: null,\r\n        editReviewId: 0,\r\n        editRating: null,\r\n        editComment: \"\",\r\n        productId: 0,\r\n        reviewList: [],\r\n        reviewList2: [],\r\n      };\r\n    },\r\n    async mounted() {\r\n      this.userId = this.$store.state.CurrentUser.userId;\r\n      this.user = this.$store.state.CurrentUser.user;\r\n      try {\r\n        this.reviewList = (\r\n          await ReviewService.getUsersReviewList(this.userId)\r\n        ).data;\r\n        if (this.reviewList) {\r\n          this.reviews = this.reviewList.length;\r\n          const start = 0;\r\n          this.reviewList2 = this.reviewList.slice(start, start + this.perPage);\r\n        }\r\n      } catch (error) {\r\n        console.log(error.response.data.error);\r\n      }\r\n    },\r\n    methods: {\r\n      paginate(currentPage) {\r\n        const start = (currentPage - 1) * this.perPage;\r\n        this.reviewList2 = this.reviewList.slice(start, start + this.perPage);\r\n      },\r\n    },\r\n    computed: {},\r\n  };\r\n  </script>\r\n  \r\n  <style lang=\"scss\" scoped></style>\r\n  "],"mappings":";;;AAwDA,OAAAA,aAAA;AACA;EACAC,IAAA;EACAC,UAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,OAAA;MACAC,WAAA;MACAC,OAAA;MACAC,MAAA;MACAC,IAAA;MACAC,eAAA;MACAC,YAAA;MACAC,UAAA;MACAC,WAAA;MACAC,SAAA;MACAC,UAAA;MACAC,WAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,KAAA;MAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YACAV,KAAA,CAAAV,MAAA,GAAAU,KAAA,CAAAW,MAAA,CAAAC,KAAA,CAAAC,WAAA,CAAAvB,MAAA;YACAU,KAAA,CAAAT,IAAA,GAAAS,KAAA,CAAAW,MAAA,CAAAC,KAAA,CAAAC,WAAA,CAAAtB,IAAA;YAAAiB,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAE,IAAA;YAAA,OAGA3B,aAAA,CAAA+B,kBAAA,CAAAd,KAAA,CAAAV,MAAA;UAAA;YADAU,KAAA,CAAAH,UAAA,GAAAW,QAAA,CAAAO,IAAA,CAEA7B,IAAA;YACA,IAAAc,KAAA,CAAAH,UAAA;cACAG,KAAA,CAAAb,OAAA,GAAAa,KAAA,CAAAH,UAAA,CAAAmB,MAAA;cACAX,KAAA;cACAL,KAAA,CAAAF,WAAA,GAAAE,KAAA,CAAAH,UAAA,CAAAoB,KAAA,CAAAZ,KAAA,EAAAA,KAAA,GAAAL,KAAA,CAAAX,OAAA;YACA;YAAAmB,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAU,EAAA,GAAAV,QAAA;YAEAW,OAAA,CAAAC,GAAA,CAAAZ,QAAA,CAAAU,EAAA,CAAAG,QAAA,CAAAnC,IAAA,CAAAoC,KAAA;UAAA;UAAA;YAAA,OAAAd,QAAA,CAAAe,IAAA;QAAA;MAAA,GAAAnB,OAAA;IAAA;EAEA;EACAoB,OAAA;IACAC,QAAA,WAAAA,SAAArC,WAAA;MACA,IAAAiB,KAAA,IAAAjB,WAAA,aAAAC,OAAA;MACA,KAAAS,WAAA,QAAAD,UAAA,CAAAoB,KAAA,CAAAZ,KAAA,EAAAA,KAAA,QAAAhB,OAAA;IACA;EACA;EACAqC,QAAA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}