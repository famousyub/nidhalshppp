{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport ProductsService from \"@/services/ProductsService.js\";\nimport AddToCart from \"@/components/MaintainProduct/AddToCart.vue\";\nimport AddToWishlist from \"@/components/MaintainProduct/AddToWishlist.vue\";\nimport '.TopSellerProd';\nexport default {\n  name: \"TopSellProduct\",\n  components: {\n    AddToCart: AddToCart,\n    AddToWishlist: AddToWishlist\n  },\n  data: function data() {\n    return {\n      topSellProduct: [],\n      cartComponentKey: 0,\n      wishlistKey: 2,\n      topSellLimit: 20,\n      topSellViewTitle: \"Tous les produits\"\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return ProductsService.topSellProduct(_this.topSellLimit);\n          case 2:\n            _this.topSellProduct = _context.sent.data;\n            _this.forceRerender();\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    forceRerender: function forceRerender() {\n      this.cartComponentKey += 1;\n      this.wishlistKey += 1;\n    }\n  },\n  computed: {}\n};","map":{"version":3,"names":["ProductsService","AddToCart","AddToWishlist","name","components","data","topSellProduct","cartComponentKey","wishlistKey","topSellLimit","topSellViewTitle","mounted","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","sent","forceRerender","stop","methods","computed"],"sources":["src/components/Home/TopSellProduct.vue"],"sourcesContent":["<template>\r\n    <div class=\"wrapper pt-10\">\r\n      <div class=\"box-border max-w-7xl mx-4 sm:columns-1 md:columns-2 lg:columns-3 xl:columns-3\">\r\n\r\n      <b-row v-if=\"topSellProduct.length != 0\">\r\n        <b-col>\r\n          <h3>{{ topSellViewTitle }}</h3>\r\n          <hr />\r\n          <b-row> \r\n            <b-col cols=\"3\" v-for=\"product in topSellProduct\" :key=\"product.id\">\r\n\r\n              <article class=\"mb-4 break-inside p-6 rounded-xl bg-white dark:bg-slate-800 flex flex-col bg-clip-border\">\r\n        <div class=\"flex pb-6 items-center justify-between\">\r\n          <div class=\"flex\">\r\n            \r\n             \r\n\r\n\r\n\r\n\r\n          \r\n\r\n\r\n\r\n              <b-card deck class=\"mt-4\" style =\"height: 450px; \">\r\n                <b-card-img \r\n                  style =\"height: 230px; \"\r\n                  @click=\"$router.push({ path: `/product/${product.id}` })\"\r\n                  class=\"mb-3 rounded-full max-w-none w-12 h-12\"\r\n                \r\n                  :src=\"product.image1\"\r\n                />\r\n\r\n                <div class=\"flex flex-col\">\r\n              <div>\r\n                <b-link @click=\"$router.push({ path: `/product/${product.id}` })\">\r\n                  <h5>{{ product.title }}</h5>\r\n                </b-link>\r\n              </div>\r\n              <div class=\"text-slate-500 dark:text-slate-300 dark:text-slate-400\">\r\n                <h6>Price: {{ product.amount }} {{ product.currency }}</h6>\r\n              </div>\r\n\r\n\r\n            </div>\r\n          \r\n               \r\n                <b-row class=\"mt-2\" align-v=\"center\">\r\n                  <b-col>\r\n                    <b-form-rating  \r\n\r\n                      :precision=\"\r\n                        Math.round(product.rating) == product.rating ? 0 : 1\r\n                      \"\r\n                      \r\n                      size=\"sm\"\r\n                      show-value\r\n                      show-value-max\r\n                      \r\n                      :value=\"product.rating\"\r\n                      variant=\"primary\"\r\n                    />\r\n                  </b-col>\r\n                </b-row>\r\n                <div class=\"d-flex justify-content-between\">\r\n                  <AddToCart \r\n                    \r\n                    class=\"mt-2\"\r\n                    addButtonTitle=\"Ajouter au chariot\"\r\n                    addedButtonTitle=\"dans chariot\"\r\n                    buttonType=\"sm\"\r\n                    :key=\"cartComponentKey\"\r\n                    :productId=\"product.id\"\r\n                    :rating=\"product.rating\"\r\n                    :currency=\"product.currency\"\r\n                    :image=\"product.image1\"\r\n                    :title=\"product.title\"\r\n                    :amount=\"product.amount\"\r\n                    :sales=\"product.sales\"\r\n                  />\r\n                  <AddToWishlist\r\n                    class=\"mt-2\"\r\n                    :key=\"wishlistKey\"\r\n                    addButtonTitle=\"Enregistrer\"\r\n                    addedButtonTitle=\"EnregistrÃ©\"\r\n                    buttonType=\"sm\"\r\n                    :productId=\"product.id\"\r\n                  />\r\n                </div>\r\n              </b-card>\r\n\r\n              </div>\r\n        </div>\r\n              </article>\r\n\r\n            </b-col>\r\n          </b-row>\r\n        </b-col>\r\n      </b-row>\r\n\r\n\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import ProductsService from \"@/services/ProductsService.js\";\r\n  import AddToCart from \"@/components/MaintainProduct/AddToCart.vue\";\r\n  import AddToWishlist from \"@/components/MaintainProduct/AddToWishlist.vue\";\r\n  import '.TopSellerProd'\r\n  export default {\r\n    name: \"TopSellProduct\",\r\n    components: {\r\n      AddToCart,\r\n      AddToWishlist,\r\n    },\r\n    data() {\r\n      return {\r\n        topSellProduct: [],\r\n        cartComponentKey: 0,\r\n        wishlistKey: 2,\r\n        topSellLimit: 20,\r\n        topSellViewTitle: \"Tous les produits\",\r\n      };\r\n    },\r\n    async mounted() {\r\n      this.topSellProduct = (\r\n        await ProductsService.topSellProduct(this.topSellLimit)\r\n      ).data;\r\n      this.forceRerender();\r\n    },\r\n    methods: {\r\n      forceRerender() {\r\n        this.cartComponentKey += 1;\r\n        this.wishlistKey += 1;\r\n      },\r\n    },\r\n    computed: {},\r\n  };\r\n  </script>\r\n  \r\n  <style lang=\"scss\" scoped></style>\r\n  "],"mappings":";;AA0GA,OAAAA,eAAA;AACA,OAAAC,SAAA;AACA,OAAAC,aAAA;AACA;AACA;EACAC,IAAA;EACAC,UAAA;IACAH,SAAA,EAAAA,SAAA;IACAC,aAAA,EAAAA;EACA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,cAAA;MACAC,gBAAA;MACAC,WAAA;MACAC,YAAA;MACAC,gBAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;MAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OAEArB,eAAA,CAAAM,cAAA,CAAAM,KAAA,CAAAH,YAAA;UAAA;YADAG,KAAA,CAAAN,cAAA,GAAAa,QAAA,CAAAG,IAAA,CAEAjB,IAAA;YACAO,KAAA,CAAAW,aAAA;UAAA;UAAA;YAAA,OAAAJ,QAAA,CAAAK,IAAA;QAAA;MAAA,GAAAR,OAAA;IAAA;EACA;EACAS,OAAA;IACAF,aAAA,WAAAA,cAAA;MACA,KAAAhB,gBAAA;MACA,KAAAC,WAAA;IACA;EACA;EACAkB,QAAA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}