{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nexport default {\n  name: \"AddToWishlist\",\n  props: {\n    addButtonTitle: {\n      \"default\": \"\",\n      type: String\n    },\n    addedButtonTitle: {\n      \"default\": \"\",\n      type: String\n    },\n    buttonType: String,\n    productId: Number\n  },\n  data: function data() {\n    return {\n      validWishlistItem: -1,\n      userId: 0\n    };\n  },\n  components: {},\n  computed: {},\n  mounted: function mounted() {\n    var _this = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _this.userId = _this.$store.state.CurrentUser.userId;\n            if (!(_this.userId != 0)) {\n              _context.next = 5;\n              break;\n            }\n            _context.next = 4;\n            return _this.$store.dispatch(\"Wishlist/getWishlistItem\", _this.productId);\n          case 4:\n            _this.validWishlistItem = _context.sent;\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    addWishlistItem: function addWishlistItem() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(_this2.userId == 0)) {\n                _context2.next = 3;\n                break;\n              }\n              _this2.$bvToast.toast(\"Veuillez vous connecter pour enregistrer sur la liste de souhaits\", {\n                title: \"Liste de souhaits\",\n                variant: \"danger\",\n                toaster: \"b-toaster-top-center\",\n                noCloseButton: false,\n                solid: true\n              });\n              return _context2.abrupt(\"return\");\n            case 3:\n              _context2.next = 5;\n              return _this2.$store.dispatch(\"Wishlist/addToWishlist\", _this2.productId);\n            case 5:\n              _this2.validWishlistItem = _context2.sent;\n              if (_this2.validWishlistItem != -1) {\n                _this2.$bvToast.toast(\"Produit enregistré dans la liste de souhaits\", {\n                  title: \"Liste de souhaits\",\n                  variant: \"info\",\n                  toaster: \"b-toaster-top-center\",\n                  noCloseButton: false,\n                  solid: true\n                });\n              }\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    },\n    removeWishlistItem: function removeWishlistItem() {\n      var _this3 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _this3.$store.dispatch(\"Wishlist/removeWishlistItem\", _this3.productId);\n            case 2:\n              _this3.validWishlistItem = _context3.sent;\n              if (_this3.validWishlistItem == -1) {\n                _this3.$bvToast.toast(\"Produit retiré de la liste de souhaits\", {\n                  title: \"Liste de souhaits\",\n                  variant: \"info\",\n                  toaster: \"b-toaster-top-center\",\n                  noCloseButton: false,\n                  solid: true\n                });\n              }\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["name","props","addButtonTitle","type","String","addedButtonTitle","buttonType","productId","Number","data","validWishlistItem","userId","components","computed","mounted","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","$store","state","CurrentUser","dispatch","sent","stop","methods","addWishlistItem","_this2","_callee2","_callee2$","_context2","$bvToast","toast","title","variant","toaster","noCloseButton","solid","abrupt","removeWishlistItem","_this3","_callee3","_callee3$","_context3"],"sources":["src/components/MaintainProduct/AddToWishlist.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <b-dropdown\r\n        id=\"wishlist-dd\"\r\n        v-if=\"validWishlistItem != -1\"\r\n        :size=\"buttonType\"\r\n        variant=\"success\"\r\n        class=\"mt-0\"\r\n      >\r\n        <b-tooltip target=\"wishlist-dd\" triggers=\"hover\">\r\n          Enregistré dans la liste de souhaits\r\n        </b-tooltip>\r\n        <template #button-content>\r\n          <b-icon shift-v=\"-1\" icon=\"suit-heart-fill\" />\r\n          {{ addedButtonTitle }}\r\n        </template>\r\n        <b-dropdown-item @click=\"removeWishlistItem\">\r\n          Supprimer de la liste de souhaits\r\n        </b-dropdown-item>\r\n      </b-dropdown>\r\n      <b-button\r\n        v-b-tooltip.hover\r\n        title=\"Ajouter à la liste de souhaits\"\r\n        v-if=\"validWishlistItem == -1\"\r\n        :size=\"buttonType\"\r\n        variant=\"outline-success\"\r\n        @click=\"addWishlistItem\"\r\n      >\r\n        <b-icon shift-v=\"-1\" icon=\"suit-heart-fill\" />\r\n        {{ addButtonTitle }}\r\n      </b-button>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: \"AddToWishlist\",\r\n    props: {\r\n      addButtonTitle: {\r\n        default: \"\",\r\n        type: String,\r\n      },\r\n      addedButtonTitle: {\r\n        default: \"\",\r\n        type: String,\r\n      },\r\n      buttonType: String,\r\n      productId: Number,\r\n    },\r\n    data() {\r\n      return {\r\n        validWishlistItem: -1,\r\n        userId: 0,\r\n      };\r\n    },\r\n    components: {},\r\n    computed: {},\r\n    async mounted() {\r\n      this.userId = this.$store.state.CurrentUser.userId;\r\n      if (this.userId != 0) {\r\n        this.validWishlistItem = await this.$store.dispatch(\r\n          \"Wishlist/getWishlistItem\",\r\n          this.productId\r\n        );\r\n      }\r\n    },\r\n    methods: {\r\n      async addWishlistItem() {\r\n        if (this.userId == 0) {\r\n          this.$bvToast.toast(\"Veuillez vous connecter pour enregistrer sur la liste de souhaits\", {\r\n            title: \"Liste de souhaits\",\r\n            variant: \"danger\",\r\n            toaster: \"b-toaster-top-center\",\r\n            noCloseButton: false,\r\n            solid: true,\r\n          });\r\n          return;\r\n        }\r\n        this.validWishlistItem = await this.$store.dispatch(\r\n          \"Wishlist/addToWishlist\",\r\n          this.productId\r\n        );\r\n        if (this.validWishlistItem != -1) {\r\n          this.$bvToast.toast(\"Produit enregistré dans la liste de souhaits\", {\r\n            title: \"Liste de souhaits\",\r\n            variant: \"info\",\r\n            toaster: \"b-toaster-top-center\",\r\n            noCloseButton: false,\r\n            solid: true,\r\n          });\r\n        }\r\n      },\r\n      async removeWishlistItem() {\r\n        this.validWishlistItem = await this.$store.dispatch(\r\n          \"Wishlist/removeWishlistItem\",\r\n          this.productId\r\n        );\r\n        if (this.validWishlistItem == -1) {\r\n          this.$bvToast.toast(\"Produit retiré de la liste de souhaits\", {\r\n            title: \"Liste de souhaits\",\r\n            variant: \"info\",\r\n            toaster: \"b-toaster-top-center\",\r\n            noCloseButton: false,\r\n            solid: true,\r\n          });\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style lang=\"scss\" scoped></style>\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}