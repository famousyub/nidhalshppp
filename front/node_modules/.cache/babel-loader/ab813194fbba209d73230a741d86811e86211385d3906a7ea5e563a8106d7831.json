{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.unshift.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nexport var CartModule = {\n  namespaced: true,\n  strict: true,\n  state: {\n    cartProducts: [],\n    dataLoaded: false\n  },\n  mutations: {\n    SET_CART_PRODUCTS: function SET_CART_PRODUCTS(state, cartProducts) {\n      state.cartProducts = cartProducts;\n    },\n    ADD_CART_ITEM: function ADD_CART_ITEM(state, newItem) {\n      state.cartProducts.unshift(newItem);\n    },\n    UPDATE_CART_ITEM_QUANTITY: function UPDATE_CART_ITEM_QUANTITY(state, _ref) {\n      var index = _ref.index,\n        quantity = _ref.quantity;\n      state.cartProducts[index].quantity = quantity;\n    },\n    REMOVE_CART_ITEM: function REMOVE_CART_ITEM(state, index) {\n      state.cartProducts.splice(index, 1);\n    },\n    SET_DATA_LOADED: function SET_DATA_LOADED(state, dataLoaded) {\n      state.dataLoaded = dataLoaded;\n    }\n  },\n  actions: {\n    clearCart: function clearCart(_ref2) {\n      var commit = _ref2.commit;\n      commit(\"SET_CART_PRODUCTS\", []);\n      commit(\"SET_DATA_LOADED\", false);\n    },\n    getCartItem: function getCartItem(_ref3, productId) {\n      var state = _ref3.state;\n      var index = state.cartProducts.findIndex(function (obj) {\n        return obj.productId == productId;\n      });\n      return index;\n    },\n    addToCart: function addToCart(_ref4, cartItem) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var commit, dispatch, index;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref4.commit, dispatch = _ref4.dispatch;\n              _context.next = 3;\n              return dispatch(\"getCartItem\", cartItem.productId);\n            case 3:\n              index = _context.sent;\n              if (!(index == -1)) {\n                _context.next = 7;\n                break;\n              }\n              commit(\"ADD_CART_ITEM\", cartItem);\n              return _context.abrupt(\"return\", 0);\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    updateCartItemQuantity: function updateCartItemQuantity(_ref5, _ref6) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var commit, dispatch, productId, quantity, index;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              commit = _ref5.commit, dispatch = _ref5.dispatch;\n              productId = _ref6.productId, quantity = _ref6.quantity;\n              _context2.next = 4;\n              return dispatch(\"getCartItem\", productId);\n            case 4:\n              index = _context2.sent;\n              if (index != -1) {\n                commit(\"UPDATE_CART_ITEM_QUANTITY\", {\n                  index: index,\n                  quantity: quantity\n                });\n              }\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    },\n    removeCartItem: function removeCartItem(_ref7, productId) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var commit, dispatch, index;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              commit = _ref7.commit, dispatch = _ref7.dispatch;\n              _context3.next = 3;\n              return dispatch(\"getCartItem\", productId);\n            case 3:\n              index = _context3.sent;\n              if (!(index != -1)) {\n                _context3.next = 7;\n                break;\n              }\n              commit(\"REMOVE_CART_ITEM\", index);\n              return _context3.abrupt(\"return\", -1);\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["CartModule","namespaced","strict","state","cartProducts","dataLoaded","mutations","SET_CART_PRODUCTS","ADD_CART_ITEM","newItem","unshift","UPDATE_CART_ITEM_QUANTITY","_ref","index","quantity","REMOVE_CART_ITEM","splice","SET_DATA_LOADED","actions","clearCart","_ref2","commit","getCartItem","_ref3","productId","findIndex","obj","addToCart","_ref4","cartItem","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","wrap","_callee$","_context","prev","next","sent","abrupt","stop","updateCartItemQuantity","_ref5","_ref6","_callee2","_callee2$","_context2","removeCartItem","_ref7","_callee3","_callee3$","_context3"],"sources":["C:/Users/g702306/Desktop/testy000/appliomm/E--commerce/pfa/front/src/store/Cart.js"],"sourcesContent":["export const CartModule = {\r\n    namespaced: true,\r\n    strict: true,\r\n    state: {\r\n      cartProducts: [],\r\n      dataLoaded: false,\r\n    },\r\n    mutations: {\r\n      SET_CART_PRODUCTS(state, cartProducts) {\r\n        state.cartProducts = cartProducts;\r\n      },\r\n      ADD_CART_ITEM(state, newItem) {\r\n        state.cartProducts.unshift(newItem);\r\n      },\r\n      UPDATE_CART_ITEM_QUANTITY(state, { index, quantity }) {\r\n        state.cartProducts[index].quantity = quantity;\r\n      },\r\n      REMOVE_CART_ITEM(state, index) {\r\n        state.cartProducts.splice(index, 1);\r\n      },\r\n      SET_DATA_LOADED(state, dataLoaded) {\r\n        state.dataLoaded = dataLoaded;\r\n      },\r\n    },\r\n    actions: {\r\n      clearCart({ commit }) {\r\n        commit(\"SET_CART_PRODUCTS\", []);\r\n        commit(\"SET_DATA_LOADED\", false);\r\n      },\r\n      getCartItem({ state }, productId) {\r\n        const index = state.cartProducts.findIndex(\r\n          (obj) => obj.productId == productId\r\n        );\r\n     \r\n        return index;\r\n      },\r\n      async addToCart({ commit, dispatch }, cartItem) {\r\n        const index = await dispatch(\"getCartItem\", cartItem.productId);\r\n        \r\n        if (index == -1) {\r\n          commit(\"ADD_CART_ITEM\", cartItem);\r\n          return 0;\r\n        }\r\n      },\r\n  \r\n      async updateCartItemQuantity(\r\n        { commit, dispatch },\r\n        { productId, quantity }\r\n      ) {\r\n        const index = await dispatch(\"getCartItem\", productId);\r\n        if (index != -1) {\r\n          commit(\"UPDATE_CART_ITEM_QUANTITY\", { index, quantity });\r\n        }\r\n      },\r\n  \r\n      async removeCartItem({ commit, dispatch }, productId) {\r\n        const index = await dispatch(\"getCartItem\", productId);\r\n        if (index != -1) {\r\n          commit(\"REMOVE_CART_ITEM\", index);\r\n          return -1;\r\n        }\r\n      },\r\n    },\r\n  };\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}