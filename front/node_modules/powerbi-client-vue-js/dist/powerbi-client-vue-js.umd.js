(function(n,s){typeof exports=="object"&&typeof module!="undefined"?s(exports,require("vue"),require("powerbi-client")):typeof define=="function"&&define.amd?define(["exports","vue","powerbi-client"],s):(n=typeof globalThis!="undefined"?globalThis:n||self,s(n.PowerbiClientVue={},n.Vue,n.powerbiClient))})(this,function(n,s,r){"use strict";var f={name:"powerbi-client-vue-js",version:"1.0.3",description:"VueJS wrapper for powerbi-client library",files:["dist"],main:"./dist/powerbi-client-vue-js.es.js",module:"./dist/powerbi-client-vue-js.umd.js",types:"./dist/types/src/public-api.d.ts",scripts:{dev:"vite",build:"vite build && vue-tsc --declaration --emitDeclarationOnly",preview:"vite preview",lint:"eslint ./src --ext .ts",test:"jest src",demo:"cd demo && npm run dev","install:demo":"cd demo && npm install"},keywords:["microsoft","powerbi","embedded","vue-js"],repository:{type:"git",url:""},license:"MIT",dependencies:{"powerbi-client":"^2.21.1","powerbi-report-authoring":"^1.1.3",vue:"^3.2.25"},devDependencies:{"@types/jest":"^28.1.3","@typescript-eslint/eslint-plugin":"^5.33.0","@typescript-eslint/parser":"^5.33.0","@vitejs/plugin-vue":"^2.3.3","@vue/test-utils":"^2.0.0",eslint:"^7.32.0","eslint-plugin-vue":"^8.0.3",jest:"^26.6.3","ts-jest":"^26.5.6",typescript:"^4.5.4",vite:"^2.9.9","vue-jest":"^5.0.0-alpha.10","vue-tsc":"^0.34.7"}};function h(t,e){if(t.size!==e.size)return!1;for(const[i,d]of t){if(!e.has(i))return!1;const a=e.get(i);if(JSON.stringify(a)!==JSON.stringify(d))return!1}return!0}const m="powerbi-client-vue-js",b=f.version;var o=s.defineComponent({name:"PowerBIBase",props:{cssClassName:{type:String},service:{type:r.service.Service}},data(){const t=this.service?this.service:new r.service.Service(r.factories.hpmFactory,r.factories.wpmpFactory,r.factories.routerFactory);t.setSdkInfo(m,b);const e=new Map([]);let i;return{powerbi:t,prevEventHandlerMap:e,embed:i}},methods:{setEventHandlers(t,e){if(h(this.prevEventHandlerMap,e))return;this.prevEventHandlerMap=e;let i=r.Embed.allowedEvents;const d=t.embedtype;switch(d){case"report":i=[...i,...r.Report.allowedEvents];break;case"dashboard":i=[...i,...r.Dashboard.allowedEvents];break;case"tile":i=[...i,...r.Tile.allowedEvents];break;case"qna":i=[...i,...r.Qna.allowedEvents];break;case"visual":i=[...i,...r.Visual.allowedEvents];break;default:console.error(`Invalid embed type ${d}`)}const a=[];e.forEach((l,c)=>{i.includes(c)?(t.off(c),l&&t.on(c,H=>{l(H,t)})):a.push(c)}),a.length&&console.error(`Following events are invalid: ${a.join(",")}`)}}}),p=s.defineComponent({name:"PowerBIReportEmbed",emits:["report-obj"],props:{embedConfig:{type:Object,required:!0},phasedEmbedding:{type:Boolean,default:!1},eventHandlers:{type:Map}},mixins:[o],render(){return s.h("div",{ref:"containerRef",class:this.cssClassName,id:"reportContainer"})},watch:{embedConfig:function(t,e){!e||(this.embedOrBootstrap(),this.callSetEventHandlers())},eventHandlers:function(){this.callSetEventHandlers()}},computed:{config(){return s.toRaw(this.embedConfig)}},mounted(){this.$refs.containerRef&&this.embedOrBootstrap(),this.callSetEventHandlers()},methods:{embedOrBootstrap(){var t,e;((t=this.config)==null?void 0:t.accessToken)&&((e=this.config)==null?void 0:e.embedUrl)?this.embedReport():this.embed=this.powerbi.bootstrap(this.$refs.containerRef,this.config)},embedReport(){if(!this.$refs.containerRef){console.error("HTML container is not rendered or available");return}this.embed=this.phasedEmbedding?this.powerbi.load(this.$refs.containerRef,this.config):this.powerbi.embed(this.$refs.containerRef,this.config),this.$emit("report-obj",this.getReport())},callSetEventHandlers(){this.eventHandlers&&this.embed&&this.setEventHandlers(this.embed,this.eventHandlers)},getReport(){return this.embed}}}),u=s.defineComponent({name:"PowerBIDashboardEmbed",props:{embedConfig:{type:Object,required:!0},eventHandlers:{type:Map}},mixins:[o],render(){return s.h("div",{ref:"containerRef",class:this.cssClassName,id:"dashboardContainer"})},watch:{embedConfig:function(t,e){!e||(this.embedOrBootstrap(),this.callSetEventHandlers())},eventHandlers:function(){this.callSetEventHandlers()}},computed:{config(){return s.toRaw(this.embedConfig)}},mounted(){this.$refs.containerRef&&this.embedOrBootstrap(),this.callSetEventHandlers()},methods:{embedOrBootstrap(){var t,e;((t=this.config)==null?void 0:t.accessToken)&&((e=this.config)==null?void 0:e.embedUrl)?this.embedDashboard():this.embed=this.powerbi.bootstrap(this.$refs.containerRef,this.config)},embedDashboard(){if(!this.$refs.containerRef){console.error("HTML container is not rendered or available");return}this.embed=this.powerbi.embed(this.$refs.containerRef,this.config)},callSetEventHandlers(){this.eventHandlers&&this.embed&&this.setEventHandlers(this.embed,this.eventHandlers)},getDashboard(){return this.embed}}}),v=s.defineComponent({name:"PowerBITileEmbed",props:{embedConfig:{type:Object,required:!0},eventHandlers:{type:Map,required:!1}},mixins:[o],render(){return s.h("div",{ref:"containerRef",class:this.cssClassName,id:"tileContainer"})},watch:{embedConfig:function(t,e){!e||(this.embedOrBootstrap(),this.callSetEventHandlers())},eventHandlers:function(){this.callSetEventHandlers()}},computed:{config(){return s.toRaw(this.embedConfig)}},mounted(){this.$refs.containerRef&&this.embedOrBootstrap(),this.callSetEventHandlers()},methods:{embedOrBootstrap(){var t,e;((t=this.embedConfig)==null?void 0:t.accessToken)&&((e=this.embedConfig)==null?void 0:e.embedUrl)?this.embedTile():this.embed=this.powerbi.bootstrap(this.$refs.containerRef,this.embedConfig)},embedTile(){if(!this.$refs.containerRef){console.error("HTML container is not rendered or available");return}this.embed=this.powerbi.embed(this.$refs.containerRef,this.embedConfig)},callSetEventHandlers(){this.eventHandlers&&this.embed&&this.setEventHandlers(this.embed,this.eventHandlers)},getTile(){return this.embed}}}),g=s.defineComponent({name:"PowerBIPaginatedReportEmbed",props:{embedConfig:{type:Object,required:!0}},mixins:[o],render(){return s.h("div",{ref:"containerRef",class:this.cssClassName,id:"paginatedReportContainer"})},watch:{embedConfig:function(t,e){!e||this.embedPaginatedReport()}},computed:{config(){return s.toRaw(this.embedConfig)}},mounted(){this.$refs.containerRef&&this.embedPaginatedReport()},methods:{embedPaginatedReport(){if(!this.$refs.containerRef){console.error("HTML container is not rendered or available");return}this.embed=this.powerbi.embed(this.$refs.containerRef,this.config)}}}),w=s.defineComponent({name:"PowerBIVisualEmbed",props:{embedConfig:{type:Object,required:!0},eventHandlers:{type:Map}},mixins:[o],render(){return s.h("div",{ref:"containerRef",class:this.cssClassName,id:"visualContainer"})},watch:{embedConfig:function(t,e){!e||(this.embedOrBootstrap(),this.callSetEventHandlers())},eventHandlers:function(){this.callSetEventHandlers()}},computed:{config(){return s.toRaw(this.embedConfig)}},mounted(){this.$refs.containerRef&&this.embedOrBootstrap(),this.callSetEventHandlers()},methods:{embedOrBootstrap(){var t,e;((t=this.config)==null?void 0:t.accessToken)&&((e=this.config)==null?void 0:e.embedUrl)?this.embedVisual():this.embed=this.powerbi.bootstrap(this.$refs.containerRef,this.config)},embedVisual(){if(!this.$refs.containerRef){console.error("HTML container is not rendered or available");return}this.embed=this.powerbi.embed(this.$refs.containerRef,this.config)},callSetEventHandlers(){this.eventHandlers&&this.embed&&this.setEventHandlers(this.embed,this.eventHandlers)},getVisual(){return this.embed}}}),E=s.defineComponent({name:"PowerBIQnaEmbed",props:{embedConfig:{type:Object,required:!0},eventHandlers:{type:Map}},mixins:[o],render(){return s.h("div",{ref:"containerRef",class:this.cssClassName,id:"qnaContainer"})},watch:{embedConfig:function(t,e){!e||(this.embedOrBootstrap(),this.callSetEventHandlers())},eventHandlers:function(){this.callSetEventHandlers()}},computed:{config(){return s.toRaw(this.embedConfig)}},mounted(){this.$refs.containerRef&&this.embedOrBootstrap(),this.callSetEventHandlers()},methods:{embedOrBootstrap(){var t,e;((t=this.config)==null?void 0:t.accessToken)&&((e=this.config)==null?void 0:e.embedUrl)?this.embedQna():this.embed=this.powerbi.bootstrap(this.$refs.containerRef,this.config)},embedQna(){if(!this.$refs.containerRef){console.error("HTML container is not rendered or available");return}this.embed=this.powerbi.embed(this.$refs.containerRef,this.config)},callSetEventHandlers(){this.eventHandlers&&this.embed&&this.setEventHandlers(this.embed,this.eventHandlers)},getQna(){return this.embed}}});n.PowerBIDashboardEmbed=u,n.PowerBIPaginatedReportEmbed=g,n.PowerBIQnaEmbed=E,n.PowerBIReportEmbed=p,n.PowerBITileEmbed=v,n.PowerBIVisualEmbed=w,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});

// SIG // Begin signature block
// SIG // MIIFwwYJKoZIhvcNAQcCoIIFtDCCBbACAQExDzANBglg
// SIG // hkgBZQMEAgEFADB3BgorBgEEAYI3AgEEoGkwZzAyBgor
// SIG // BgEEAYI3AgEeMCQCAQEEEBDgyQbOONQRoqMAEEvTUJAC
// SIG // AQACAQACAQACAQACAQAwMTANBglghkgBZQMEAgEFAAQg
// SIG // QhKhJGwjLyN+SY6ilnRMXQ3VTNLs989fGjh/p04mc6ug
// SIG // ggM6MIIDNjCCAh6gAwIBAgIQbkFYlRmcNrtPF7+sTlHY
// SIG // qDANBgkqhkiG9w0BAQsFADAkMSIwIAYDVQQDDBlUZXN0
// SIG // QXp1cmVFbmdCdWlsZENvZGVTaWduMB4XDTE5MTIxNjIz
// SIG // NTQwOVoXDTMwMDcxNzAwMDQwOVowJDEiMCAGA1UEAwwZ
// SIG // VGVzdEF6dXJlRW5nQnVpbGRDb2RlU2lnbjCCASIwDQYJ
// SIG // KoZIhvcNAQEBBQADggEPADCCAQoCggEBALdzomGcnPIf
// SIG // VrbQmes/YzjpYQizlnMPPcHRGLyQ36wob3hZtNcytONq
// SIG // LuTTmKihBw3TdvanCSA66hLWpyrzPSWY2orxRoxAOtxx
// SIG // rgC218L5jfwZbdpRYjNEIkkPEcnKeK2qcutBcKPWnFRI
// SIG // LCpiJe1mfW3RRmi4XWqdqMr6RKW04RzcmzJ1iEP/d4EI
// SIG // 8Bq9KBF+oWiGtyOMOQp6Mo+jDk+03mi+lpvbfWXrSH3o
// SIG // KYhIwfzc0pvMXYZmkdfEJXfb0Uc4dGUpulYegxLuc8Ox
// SIG // k7NfZnZ24ZkrKI8sY1imT/meC/ULzY8ZULKHSq6Nhv5n
// SIG // Cv3I/aHmkGg3wTPuZ/P6RAUCAwEAAaNkMGIwDgYDVR0P
// SIG // AQH/BAQDAgeAMBMGA1UdJQQMMAoGCCsGAQUFBwMDMBwG
// SIG // A1UdEQQVMBOCEXd3dy5taWNyb3NvZnQuY29tMB0GA1Ud
// SIG // DgQWBBQad2ypaosFSN3WN49F/B1fxJLrvzANBgkqhkiG
// SIG // 9w0BAQsFAAOCAQEAmSwp158iRcD7f/q+P5GMaqoK2i7r
// SIG // fmiJWxZqZ7kPlpWx4V7mkwKWqrfhIXxUaFmjOZL/Dact
// SIG // jdFQ1cIPXF8QCPmPc2yIAkFwMAVgBQmOdOs42pRFRVug
// SIG // SrXyPAfx59DPu33mV6qj8b30+GX2KLYMto4A6O7A7eT4
// SIG // YavNvoAuUdvlTKZ241BrqK/3ykKyJ7VfNKhLgnJrk/8e
// SIG // t0Wu8N9yp6wZcCO/LBuw3xuFAciHDnHFNHoW6cgLzpkd
// SIG // 0nbAcarkmHPmkpex1VxoTfUT2DTfQABGX0TuQpxX/PeN
// SIG // ry+iU/rlb+KO5Xk6JEokSP/KqBKFPhfO4oFpJ91QcvGb
// SIG // x+aOpTGCAeEwggHdAgEBMDgwJDEiMCAGA1UEAwwZVGVz
// SIG // dEF6dXJlRW5nQnVpbGRDb2RlU2lnbgIQbkFYlRmcNrtP
// SIG // F7+sTlHYqDANBglghkgBZQMEAgEFAKB8MBAGCisGAQQB
// SIG // gjcCAQwxAjAAMBkGCSqGSIb3DQEJAzEMBgorBgEEAYI3
// SIG // AgEEMBwGCisGAQQBgjcCAQsxDjAMBgorBgEEAYI3AgEV
// SIG // MC8GCSqGSIb3DQEJBDEiBCAqzj0g4JTHPLxFuKHL6C82
// SIG // IEXJJ7zZfnxaof8eNlk6yzANBgkqhkiG9w0BAQEFAASC
// SIG // AQAFdtHgpYY92WypTOH7DWmbxO+DBPd+LJmD1eIt4ONX
// SIG // +kIBj3rhKJi+WxNiqoSBuWvyiSxr4cpDauOHzqVy441+
// SIG // V0yYS8S4K8AOy25Yw+saRgBZgaZwt14ywLf7WyBuAhFq
// SIG // iJRDC4szQEEJu1Pm7frHc/cKVNqID4K3dVrIgJ7LC/4n
// SIG // esS9hXTkHDERsbbPuQGBu0ln0LI8DVsFwaElo4J/BxUD
// SIG // 4wrLGVC8RIjQrNg7m9OmrF0dwaceefO4HkBqJeUc+ZOx
// SIG // eDyLLgVkSUPiXpllgsUXDQ3+umZNoYU0QwZ0ROEnXzy8
// SIG // rnHYriM0ulZQ3ITPepSalevgh83hfgsWwfI3
// SIG // End signature block
